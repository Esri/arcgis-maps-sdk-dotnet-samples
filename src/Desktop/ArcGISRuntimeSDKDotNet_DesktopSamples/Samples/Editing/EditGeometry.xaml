<UserControl x:Class="ArcGISRuntimeSDKDotNet_DesktopSamples.Samples.EditGeometry"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:esri="http://schemas.esri.com/arcgis/runtime/2013"
             xmlns:sys="clr-namespace:System;assembly=mscorlib"
             xmlns:local="clr-namespace:ArcGISRuntimeSDKDotNet_DesktopSamples">
    <UserControl.Resources>
        <local:LongEnumerableToBooleanConverter x:Key="LongEnumerableToBooleanConverter" />
        <local:NegateBooleanConverter x:Key="NegateBooleanConverter" />
    </UserControl.Resources>
    <Grid>
        <esri:MapView x:Name="MyMapView">
            <esri:Map InitialViewpoint="-13054165,3850112,-13027133,3863559">
                <esri:ArcGISTiledMapServiceLayer ServiceUri="http://services.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer" />
                <esri:FeatureLayer ID="ThreatAreas">
                    <esri:ServiceFeatureTable ServiceUri="http://sampleserver3.arcgisonline.com/ArcGIS/rest/services/HomelandSecurity/operations/FeatureServer/2"
                                              Mode="OnDemand" />
                </esri:FeatureLayer>
            </esri:Map>
        </esri:MapView>
        <Border Background="White"
                BorderBrush="Black"
                BorderThickness="1"
                HorizontalAlignment="Right"
                VerticalAlignment="Top"
                Margin="30"
                Padding="20"
                DataContext="{Binding ElementName=MyMapView, Path=Editor.EditorConfiguration}">
            <Border.Effect>
                <DropShadowEffect />
            </Border.Effect>
            <StackPanel Orientation="Vertical">
                <StackPanel Orientation="Horizontal">
                    <Button Click="AddButton_Click"
                            Margin="2"
                            ToolTipService.ToolTip="Fire"
                            Content="Add Polygon">
                        <Button.Tag>
                            <sys:Int32>10301</sys:Int32>
                        </Button.Tag>
                    </Button>
                    <Button Click="SelectButton_Click"
                            Margin="2"
                            Tag="New">
                        <TextBlock>New<LineBreak />Selection</TextBlock>
                    </Button>
                    <Button Click="SelectButton_Click"
                            Margin="2"
                            IsEnabled="{Binding ElementName=MyMapView, Path=Map.Layers[ThreatAreas].SelectedFeatureIDs, Converter={StaticResource LongEnumerableToBooleanConverter}}"
                            Tag="Add">
                        <TextBlock>Add to<LineBreak />Selection</TextBlock>
                    </Button>
                    <Button Click="SelectButton_Click"
                            Margin="2"
                            IsEnabled="{Binding ElementName=MyMapView, Path=Map.Layers[ThreatAreas].SelectedFeatureIDs, Converter={StaticResource LongEnumerableToBooleanConverter}}"
                            Tag="Remove">
                        <TextBlock>Remove from<LineBreak />Selection</TextBlock>
                    </Button>
                    <Button Click="ClearSelectionButton_Click"
                            Margin="2"
                            IsEnabled="{Binding ElementName=MyMapView, Path=Map.Layers[ThreatAreas].SelectedFeatureIDs, Converter={StaticResource LongEnumerableToBooleanConverter}}">
                        <TextBlock>Clear<LineBreak />Selection</TextBlock>
                    </Button>
                    <Button Click="DeleteSelectedButton_Click"
                            x:Name="DeleteSelectedButton"
                            Margin="2"
                            IsEnabled="{Binding ElementName=MyMapView, Path=Map.Layers[ThreatAreas].SelectedFeatureIDs, Converter={StaticResource LongEnumerableToBooleanConverter}}">
                        <TextBlock>Delete<LineBreak />Selected</TextBlock>
                    </Button>
                </StackPanel>
                <StackPanel Orientation="Horizontal">
                    <Button Click="EditVerticesButton_Click"
                            Margin="2">
                        <TextBlock>Edit Vertices<LineBreak />/Move Selected</TextBlock>
                    </Button>
                    <Button Click="CutButton_Click"
                            x:Name="CutButton"
                            IsEnabled="{Binding ElementName=MyMapView, Path=Map.Layers[ThreatAreas].SelectedFeatureIDs, Converter={StaticResource LongEnumerableToBooleanConverter}}"
                            Margin="2">
                        <TextBlock>Cut<LineBreak />Selected</TextBlock>
                    </Button>
                    <Button Click="ReshapeButton_Click"
                            IsEnabled="{Binding ElementName=CutButton, Path=IsEnabled}"
                            Margin="2">
                        <TextBlock>Reshape<LineBreak />Selected</TextBlock>
                    </Button>
                    <Button Click="UnionButton_Click"
                            x:Name="UnionButton"
                            IsEnabled="{Binding ElementName=CutButton, Path=IsEnabled}"
                            Margin="2">
                        <TextBlock>Union<LineBreak />Selected</TextBlock>
                    </Button>
                    <Button Click="SaveButton_Click"
                            x:Name="SaveButton"
                            IsEnabled="False"
                            Margin="2">
                        <TextBlock FontWeight="Bold">Save<LineBreak />Edits</TextBlock>
                    </Button>
                    <Button IsEnabled="{Binding ElementName=SaveButton, Path=IsEnabled}"
                            Margin="2"
                            Click="CancelButton_Click">
                        <TextBlock FontWeight="Bold">Cancel<LineBreak />Edits</TextBlock>
                    </Button>
                </StackPanel>
                <StackPanel Orientation="Horizontal"
                            IsEnabled="{Binding ElementName=MyMapView, Path=Editor.IsActive, Converter={StaticResource NegateBooleanConverter}}">
                    <CheckBox Content="Freehand Draw"
                              x:Name="IsFreehand"
                              Margin="2" />
                    <CheckBox Content="Auto Complete"
                              x:Name="IsAutoComplete"
                              Margin="2" />
                    <CheckBox Content="Auto Select"
                              Click="IsAutoSelect_Click"
                              x:Name="IsAutoSelect"
                              Margin="2" />
                    <CheckBox Content="Continuous Action"
                              x:Name="IsContinuous"
                              Margin="2" />
                </StackPanel>
                <StackPanel Orientation="Horizontal"
                            IsEnabled="{Binding ElementName=MyMapView, Path=Editor.IsActive, Converter={StaticResource NegateBooleanConverter}}">
                    <CheckBox Content="Allow Add Vertex"
                              IsChecked="{Binding AllowAddVertex, Mode=TwoWay}"
                              Margin="2" />
                    <CheckBox Content="Allow Move Vertex"
                              IsChecked="{Binding AllowMoveVertex, Mode=TwoWay}"
                              Margin="2" />
                    <CheckBox Content="Allow Delete Vertex"
                              IsChecked="{Binding AllowDeleteVertex, Mode=TwoWay}"
                              Margin="2" />
                </StackPanel>
                <StackPanel Orientation="Horizontal"
                            IsEnabled="{Binding ElementName=MyMapView, Path=Editor.IsActive, Converter={StaticResource NegateBooleanConverter}}">
                    <CheckBox Content="Allow Move Geometry"
                              IsChecked="{Binding AllowMoveGeometry, Mode=TwoWay}"
                              Margin="2" />
                    <CheckBox Content="Allow Scale Geometry"
                              IsChecked="{Binding AllowScaleGeometry, Mode=TwoWay}"
                              Margin="2" />
                    <CheckBox Content="Allow Rotate Geometry"
                              IsChecked="{Binding AllowRotateGeometry, Mode=TwoWay}"
                              Margin="2" />
                    <CheckBox Content="Maintain Aspect Ratio"
                              IsChecked="{Binding MaintainAspectRatio, Mode=TwoWay}"
                              Margin="2" />
                </StackPanel>
            </StackPanel>
        </Border>
        <Border Background="White"
                BorderBrush="Black"
                BorderThickness="1"
                HorizontalAlignment="Left"
                VerticalAlignment="Top"
                Margin="30"
                Padding="20">
            <Border.Effect>
                <DropShadowEffect />
            </Border.Effect>
            <TextBlock Text="Use the Add Polygon button to enable drawing a polygon on the map.  Use other buttons to move, modify, select or delete features.  Use the Save Edits button to commit edits to the database.  Cancel Edits will clear all edits up to that point."
                       Width="200"
                       TextAlignment="Left"
                       Margin="30,20,20,30"
                       TextWrapping="Wrap" />
        </Border>
    </Grid>
</UserControl>
